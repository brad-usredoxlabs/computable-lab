$schema: "https://json-schema.org/draft/2020-12/schema"
$id: "https://example.org/schemas/common.schema.yaml"
title: "common.schema.yaml"
description: >
  Minimal FAIR-ish common fields to mix into many record schemas (study/experiment/run/etc.).
  This file intentionally does NOT set additionalProperties: false (enforce that in leaf schemas).
  This file intentionally does NOT include provenance (use your event system + evidence records).

type: object

$defs:
  FAIRCommon:
    type: object
    description: "FAIR-ish common fields (mixin)."
    properties:
      id:
        type: string
        description: "Persistent record identifier (URI or compact ID)."

      title:
        type: string
        description: "Human-readable label/title."

      description:
        type: string
        description: "Short description / purpose."

      license:
        type: string
        description: "License identifier or URL for this record."

      relatedIdentifiers:
        type: array
        description: "Related external identifiers (DOIs, accessions, URIs)."
        items:
          type: string

      keywords:
        type: array
        description: "Keywords/tags to aid findability."
        items:
          type: string

      createdAt:
        type: string
        format: date-time
        readOnly: true
        description: "Record creation timestamp (ISO 8601). Prefer tool-generated."

      createdBy:
        type: string
        readOnly: true
        description: "Creator (user or agent identifier). Prefer tool-generated."

      updatedAt:
        type: string
        format: date-time
        readOnly: true
        description: "Last modified timestamp (ISO 8601). Prefer tool-generated."

      "@context":
        type: object
        readOnly: true
        description: "JSON-LD context prefixes derived from schema bundles and overrides."
        additionalProperties:
          type: string

      "@id":
        type: string
        readOnly: true
        description: "Derived JSON-LD IRI for this record."

      "@type":
        type: array
        readOnly: true
        description: "Derived JSON-LD type IRIs associated with this record."
        items:
          type: string
